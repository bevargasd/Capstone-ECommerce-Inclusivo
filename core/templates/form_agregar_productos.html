<!DOCTYPE html>
<html lang="es">
{% load static %}
{% include 'plantillas/dame_head.html' %}
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agregar productos</title>
  <link rel="stylesheet" href="{% static 'css/registro.css' %}">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

  <style>
body {
  margin: 0;
  padding: 0;
  background-image: url("/static/IMG/placeholder.jpg");
  background-size: cover;
  background-position: center;
  background-attachment: fixed; /* ðŸ”¹ Esto hace que el fondo permanezca fijo */
  position: relative;
}

/* ðŸ”¹ Capa de oscurecimiento */
body::before {
  content: '';
  position: fixed; /* ðŸ”¹ Cambiado de absolute a fixed */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.55);
  z-index: 1;
  pointer-events: none;
}

/* ðŸ”¹ Capa de desenfoque */
body::after {
  content: '';
  position: fixed; /* ðŸ”¹ TambiÃ©n fixed */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  backdrop-filter: blur(5px);
  z-index: 2;
  pointer-events: none;
}

/* ðŸ”¹ Contenedor del formulario */
.form-container {
  position: relative;
  z-index: 3;
  width: 95%;
  max-width: 700px;
  margin: 80px auto 40px auto;
  margin-top: 100px;
  padding: 25px;
  background-color: #fff;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.25);
}

    h5 {
      text-align: center;
      margin-bottom: 20px;
      font-weight: bold;
      color: #333;
    }

    .image-row {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
    }
    .image-row .small-form-group {
      flex: 1;
    }

    .submit-button {
      width: 100%;
      padding: 12px;
      margin-top: 12px;
      border: none;
      border-radius: 8px;
      background: #4a90e2;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .submit-button:hover {
      background: #357abd;
    }

    #volverTienda { color: white; text-decoration: none; }
    #volverTienda:hover { color: black; }

    .alert {
      margin-top: 16px;
      font-size: 0.95rem;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .form-container { padding: 16px; margin-top: 60px; }
      .image-row { flex-direction: column; gap: 12px; }
    }
  
  </style>
</head>

<body>
  {% include 'plantillas/navbar.html' %}

  <div class="form-container">
    <form class="register-form" action="" method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <h5>Agregar productos</h5>

      <div class="row">
        <!-- Nombre -->
        <div class="col-md-6">
          <div class="form-group">
            <label for="nombre">Nombre</label>
            <input type="text" id="nombre" name="nombre" class="form-control" required>
          </div>
        </div>

        <!-- Precio -->
        <div class="col-md-6">
          <div class="form-group">
            <label for="precio">Precio</label>
            <input type="number" id="precio" name="precio" class="form-control" required>
            </div>
        </div>

        
        <!-- Stock -->
        <div class="col-md-6">
          <div class="form-group">
            <label for="stock">Stock</label>
            <input type="number" id="stock" name="stock" class="form-control" required>
            </div>
        </div>
        
        <!-- Marca -->
        <div class="col-md-6">
          <div class="form-group">
            <label for="marca">Marca</label>
            <input type="text" id="marca" name="marca" class="form-control">
          </div>
        </div>

      </div>
    
      <!-- CategorÃ­a -->
      <div class="form-group">
        <label for="categoria">CategorÃ­a</label>
        <select name="categoria" id="categoria" class="form-control" required>
          <option value="">Seleccionar</option>
          {% for c in categorias %}
          <option value="{{ c.id }}">{{ c.nombre }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="form-group">
        <label for="descripcion">DescripciÃ³n</label>
        <textarea id="descripcion" name="descripcion" class="form-control" required></textarea>
      </div>

      <!-- ImÃ¡genes -->
      <div class="image-row">
        <div class="form-group small-form-group">
          <label for="imagen_uno">Foto Producto</label>
          <input type="file" name="imagen_uno" id="imagen_uno" class="form-control-file" required>
        </div>
        <div class="form-group small-form-group">
          <label for="imagen_dos">Foto Producto 2</label>
          <input type="file" name="imagen_dos" id="imagen_dos" class="form-control-file">
        </div>
      </div>


      <button type="submit" class="submit-button">Agregar producto</button>
      <a href="{% url 'tienda' %}" class="submit-button text-center d-block" id="volverTienda">Volver a la tienda</a>

      {% if messages %}
        {% for message in messages %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="close" data-dismiss="alert">&times;</button>
        </div>
        {% endfor %}
      {% endif %}

    </form>
  </div>

</body>
</html>