<!DOCTYPE html>
<html lang="es">
{% load static %}

<!-- Head -->
{% include 'plantillas/dame_head.html' %}

<head>
  <title>MusicPro - Tienda</title>
  <link rel="stylesheet" href="{% static 'css/home.css' %}">
  <link rel="stylesheet" href="{% static 'css/tienda.css' %}">
</head>

<body>
  <!-- Navbar -->
  {% include 'plantillas/navbar.html' %}

  <!-- Sección Hero -->
  <section class="hero">
    <div class="hero-inner">
      <h1>Productos</h1>
      <h2>
        <p>Compártenos</p>
        <div class="social-links">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-whatsapp"></i></a>
          <a href="#"><i class="fab fa-pinterest"></i></a>
        </div>
      </h2>
    </div>
  </section>

  <!-- Estilos Hero -->
  <style>
    .hero {
      width: 100%;
      height: 91vh;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: white;
      background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
                  url("https://images.squarespace-cdn.com/content/v1/5fc81a6a2a8c727fea28e86a/1617632758936-0I729579XQL2AQSM30U1/AdobeStock_320378863.jpeg") 
                  center/cover fixed;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
    }
    .hero h1 { font-size: 5em; }
    .social-links a { color: white; margin: 0 5px; text-decoration: none; }
    .social-links a:hover { color: #ff7d7d; }
  </style>

  <!-- === Sliders de Categorías === -->

  <!-- Tarjetas de video -->
  <section class="slider-section my-5">
    <h2 class="text-center mb-4">Tarjetas de Video</h2>
    <div class="slider-container position-relative">
      <button class="slider-btn prev"><i class="fas fa-chevron-left"></i></button>
      <div class="slider-wrapper d-flex overflow-hidden">
        {% if productos %}
          {% for p in productos %}
          <div class="card mx-2 shadow" style="min-width: 250px;">
            <img src="{% if p.imagen_uno %}{{ p.imagen_uno.url }}{% else %}https://placehold.co/250x200?text=Tarjeta+de+Video&font=roboto{% endif %}" 
                 class="card-img-top" alt="{{ p.nombre_producto }}">
            <div class="card-body">
              <h5 class="card-title">{{ p.nombre_producto|default:"Producto Genérico" }}</h5>
              <p class="card-text">
                {% if p.activo %}
                  <span class="badge badge-success">Activo</span>
                {% else %}
                  <span class="badge badge-danger">Inactivo</span>
                {% endif %}
              </p>
              <a href="{% url 'detalle_producto' p.id %}" class="btn btn-primary btn-block">Ir al producto</a>
            </div>
          </div>
          {% endfor %}
        {% else %}
          <!-- Placeholders cuando no hay productos -->
          {% for i in "1234" %}
          <div class="card mx-2 shadow" style="min-width: 250px;">
            <img src="https://placehold.co/250x200?text=Tarjeta+de+Video&font=roboto" class="card-img-top" alt="Placeholder">
            <div class="card-body">
              <h5 class="card-title">Producto Genérico</h5>
              <span class="badge badge-secondary">Sin stock</span>
              <a href="#" class="btn btn-secondary btn-block disabled">No disponible</a>
            </div>
          </div>
          {% endfor %}
        {% endif %}
      </div>
      <button class="slider-btn next"><i class="fas fa-chevron-right"></i></button>
    </div>
  </section>

  <!-- Procesadores -->
  <section class="slider-section my-5">
    <h2 class="text-center mb-4">Procesadores</h2>
    <div class="slider-container position-relative">
      <button class="slider-btn prev"><i class="fas fa-chevron-left"></i></button>
      <div class="slider-wrapper d-flex overflow-hidden">
        {% if procesadores %}
          {% for ps in procesadores %}
          <div class="card mx-2 shadow" style="min-width: 250px;">
            <img src="{% if ps.imagen_uno %}{{ ps.imagen_uno.url }}{% else %}https://placehold.co/250x200?text=Procesador&font=roboto{% endif %}" 
                 class="card-img-top" alt="{{ ps.nombre_producto }}">
            <div class="card-body">
              <h5 class="card-title">{{ ps.nombre_producto|default:"Producto Genérico" }}</h5>
              <p class="card-text">
                {% if ps.activo %}
                  <span class="badge badge-success">Activo</span>
                {% else %}
                  <span class="badge badge-danger">Inactivo</span>
                {% endif %}
              </p>
              <a href="{% url 'detalle_producto' ps.id %}" class="btn btn-primary btn-block">Ir al producto</a>
            </div>
          </div>
          {% endfor %}
        {% else %}
          {% for i in "1234" %}
          <div class="card mx-2 shadow" style="min-width: 250px;">
            <img src="https://placehold.co/250x200?text=Procesador&font=roboto" class="card-img-top" alt="Placeholder">
            <div class="card-body">
              <h5 class="card-title">Producto Genérico</h5>
              <span class="badge badge-secondary">Sin stock</span>
              <a href="#" class="btn btn-secondary btn-block disabled">No disponible</a>
            </div>
          </div>
          {% endfor %}
        {% endif %}
      </div>
      <button class="slider-btn next"><i class="fas fa-chevron-right"></i></button>
    </div>
  </section>

  <!-- Placas madre -->
  <section class="slider-section my-5">
    <h2 class="text-center mb-4">Placas Madre</h2>
    <div class="slider-container position-relative">
      <button class="slider-btn prev"><i class="fas fa-chevron-left"></i></button>
      <div class="slider-wrapper d-flex overflow-hidden">
        {% if placamadre %}
          {% for pm in placamadre %}
          <div class="card mx-2 shadow" style="min-width: 250px;">
            <img src="{% if pm.imagen_uno %}{{ pm.imagen_uno.url }}{% else %}https://placehold.co/250x200?text=Placa+Madre&font=roboto{% endif %}" 
                 class="card-img-top" alt="{{ pm.nombre_producto }}">
            <div class="card-body">
              <h5 class="card-title">{{ pm.nombre_producto|default:"Producto Genérico" }}</h5>
              <p class="card-text">
                {% if pm.activo %}
                  <span class="badge badge-success">Activo</span>
                {% else %}
                  <span class="badge badge-danger">Inactivo</span>
                {% endif %}
              </p>
              <a href="{% url 'detalle_producto' pm.id %}" class="btn btn-primary btn-block">Ir al producto</a>
            </div>
          </div>
          {% endfor %}
        {% else %}
          {% for i in "1234" %}
          <div class="card mx-2 shadow" style="min-width: 250px;">
            <img src="https://placehold.co/250x200?text=Placa+Madre&font=roboto" class="card-img-top" alt="Placeholder">
            <div class="card-body">
              <h5 class="card-title">Producto Genérico</h5>
              <span class="badge badge-secondary">Sin stock</span>
              <a href="#" class="btn btn-secondary btn-block disabled">No disponible</a>
            </div>
          </div>
          {% endfor %}
        {% endif %}
      </div>
      <button class="slider-btn next"><i class="fas fa-chevron-right"></i></button>
    </div>
  </section>

  <!-- JS Slider -->
  <script>
    document.querySelectorAll('.slider-section').forEach(section => {
      const wrapper = section.querySelector('.slider-wrapper');
      const prevBtn = section.querySelector('.prev');
      const nextBtn = section.querySelector('.next');

      prevBtn.addEventListener('click', () => {
        wrapper.scrollBy({ left: -300, behavior: 'smooth' });
      });
      nextBtn.addEventListener('click', () => {
        wrapper.scrollBy({ left: 300, behavior: 'smooth' });
      });
    });
  </script>

  <!-- Footer -->
  {% include 'plantillas/footer.html' %}

</body>
</html>
